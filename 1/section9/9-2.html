<html>
<head>
    <meta charset="UTF-8">
    <title>출력결과</title>
</head>
<body>
<script>
    // function solution(n, arr){
    //     let answer = 0;
    //     let graph = Array.from(Array(n + 1), () => Array(n + 1).fill(0));
    //     let ch = Array.from(Array(n + 1).fill(0));

    //     for (let i = 0; i < arr.length; i++) {
    //         for (let j = 0; j < arr[i].length; j++) {
    //             let row = arr[i][0];
    //             let col = arr[i][1];
    //             graph[row][col] = 1;
    //         }
    //     }

    //     function DFS(L, node) {
    //         if (ch[n] === 1) {
    //             answer++;
    //         }
    //         if (L === n) {
                
    //         } else {
    //             for (let i = 1; i <= n; i++) {
    //                 if (ch[i] === 0 && graph[node][i] === 1) {
    //                     ch[i] = 1;
    //                     DFS(L + 1, i);
    //                     ch[i] = 0;
    //                 }   
    //             }
    //         }
    //     }

    //     ch[1] = 1;
    //     DFS(1, 1);

    //     return answer;
    // }

    function solution(n, arr){
        let answer = 0;
        let graph = Array.from(Array(n + 1), () => Array(n + 1).fill(0));
        let ch = Array.from({length: n + 1}, () => 0);

        for (let [a, b] of arr) {
            graph[a][b] = 1;
        }

        function DFS(v) {
            if (v === n) {
                answer++;
            } else {
                for (let i = 1; i <= n; i++) {
                    if (graph[v][i] === 1 && ch[i] === 0) {
                        ch[i] = 1;
                        DFS(i);
                        ch[i] = 0;
                    }
                }
            }
        }

        ch[1] = 1;
        DFS(1);

        return answer;
    }

    let arr=[[1, 2], [1, 3], [1, 4], [2, 1], [2, 3], [2, 5], [3, 4], [4, 2], [4, 5]];
    console.log(solution(5, arr));
</script>
</body>
</html>